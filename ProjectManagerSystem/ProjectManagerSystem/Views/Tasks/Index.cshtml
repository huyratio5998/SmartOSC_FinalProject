@model ProjectManagerSystem.Models.CustomTasksViewModels.DropDownListViewModels

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="~/Scripts/jquery-3.3.1.min.js"></script>
<script src="~/Scripts/modernizr-2.8.3.js"></script>
<script src="~/Scripts/mustache.min.js"></script>
<script src="~/Scripts/TasksJsController/Index.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script>
    var tas = new TaskController();
    tas.intialize();
</script>


<h2>Task View</h2>

<div class="form-group">
    <div class="col-md-8">
        <select class="form-control" id="ProjectData" style="margin-top:10px"></select>
    </div>
    <div class="col-md-8">
        <select class="form-control" id="AssigneeData" style="margin-top:10px ; margin-bottom : 10px"></select>
    </div>
    <div class="col-md-12">
        <input class="form-group" style="margin-left:795px;margin-bottom:0px" id="InputSearch" />
        <button class="form-group" id="SearchTasks">Search</button>
    </div>
</div>

<table id="TaskTable" class="table table-striped table-bordered" style="width:100%">
    <thead>
        <tr>
            <th>TaskId</th>
            <th>TaskName</th>
            <th>Status</th>
            <th>Format</th>
        </tr>
    </thead>
    <tbody id="tblTasks"></tbody>
</table>

@*//--Đoạn Script set Row cho Table Tasks--//*@

<script id="dataTasks" type="x-tmpl-mustache">
    <tr id="EditTaskId">
        <td>{{TaskId}}</td>
        <td>{{TaskName}}</td>
        <td>{{Status}}</td>
        <td id="edittasksbutton">
            <button type="button" data-toggle="modal" id="myBtn" data-id="{{TaskId}}">Edit</button>
        </td>

    </tr>
</script>

@*//--Đoạn Script set Option cho Select Project và Select Assignee--//*@

<script id="OptionProject" type="x-tmpl-mustache">
    <option id="ProjectId" value="{{projectId}}">
        {{projectName}}
    </option>
</script>
<script id="OptionAssignee" type="x-tmpl-mustache">
    <option id="AssigneeId" value="{{assigneeId}}">
        {{assigneeName}}
    </option>
</script>

<script id="OptionStatus" type="x-tmpl-mustache">
    <option id="StatusId" value="{{statusId}}">
        {{statusName}}
    </option>
</script>

<script id="TasksNameModal" type="x-tmpl-mustache">
    <input type="hidden" class="form-control" id="testTaskId" data-id="{{Id}}">
    <h3>Project Name : {{projectNameModal}}</h3>
    <h4>Task Name : {{tasksNameModal}}</h4>
    <h5>Status : {{statusNameModal}}</h5>
    <h5>Description: {{description}}</h5>
</script>

<p style="margin-left:1000px"> @Html.ActionLink("Create New Task", "AddTasks", "Tasks")</p>

@RenderPage("Modal.cshtml")